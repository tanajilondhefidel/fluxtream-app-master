<template id="dialog">
    <div id="modal" class="modal fade hide in">
        <div class="modal-header">
            <a class="close" data-dismiss="modal">&times;</a>
            <h3>Settings</h3>
        </div>
            <div class="modal-body">
                <ul id="settingsTabs" data-tabs="settingsTabs" class="nav nav-tabs">
                    <li class="active" id="generalSettings">
                        <a href="javascript:void(0);" onclick="$(this).tab('show');" data-target="#general-settings" data-toggle="tab">General Settings</a>
                    </li>
                    <li id="unitsSettings">
                        <a href="javascript:void(0);" onclick="$(this).tab('show');" data-target="#units-settings" data-toggle="tab">Units</a>
                    </li>
                    <li id="passwordSettings">
                        <a href="javascript:void(0);" onclick="$(this).tab('show');" data-target="#password-settings" data-toggle="tab">Password</a>
                    </li>
                    <li id="moreSettings">
                        <a href="javascript:void(0);" onclick="$(this).tab('show');" data-target="#more-settings" data-toggle="tab">More</a>
                    </li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane active settings-tab" id="general-settings">
                        <h3>Your Personal Details</h3>
                        <form id="generalSettingsForm" action="javascript:void(0)" style="margin:0">
                            <table>
                                <tbody>
                                    <tr>
                                        <td style="width:120px"><label>Your username</label></td>
                                        <td><span class="input uneditable-input" id="username-uneditable"></span></td>
                                    </tr>
                                    <tr>
                                        <td><label for="guest_firstname">First name</label></td>
                                        <td><input type="text" name="guest_firstname" id="guest_firstname"></td>
                                    </tr>
                                    <tr>
                                        <td><label for="guest_lastname">Last name</label></td>
                                        <td><input type="text" name="guest_lastname" id="guest_lastname"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </form>
                    </div>
                    <div class="tab-pane settings-tab" id="units-settings">
                        <h3>Units of measure Preferences</h3>
                        <form id="unitsSettingsForm" action="javascript:void(0)" style="margin:0">
                            <table>
                                <tbody>
                                    <tr>
                                        <td><label for="length_measure_unit">Length Measure</label></td>
                                        <td><select name="length_measure_unit" id="length_measure_unit">
                                            <option value="SI">Cm</option>
                                            <option value="FEET_INCHES">Feet/Inches</option>
                                        </select></td>
                                    </tr>
                                    <tr>
                                        <td><label for="distance_measure_unit">Distance Measure</label></td>
                                        <td><select name="distance_measure_unit" id="distance_measure_unit">
                                            <option value="SI">Km</option>
                                            <option value="MILES_YARDS">Miles/Yards</option>
                                        </select></td>
                                    </tr>
                                    <tr>
                                        <td><label for="weight_measure_unit">Weight Measure</label></td>
                                        <td><select name="weight_measure_unit" id="weight_measure_unit">
                                            <option value="SI">Kg/Grams</option>
                                            <option value="STONES">Stones</option>
                                            <option value="POUNDS">Pounds</option>
                                        </select></td>
                                    </tr>
                                    <tr>
                                        <td><label for="temperature_unit">Temperatures</label></td>
                                        <td><select name="temperature_unit" id="temperature_unit">
                                            <option value="CELSIUS">Celsius</option>
                                            <option value="FAHRENHEIT">Fahrenheit</option>
                                        </select></td>
                                    </tr>
                                </tbody>
                            </table>
                        </form>
                    </div>
                    <div class="tab-pane settings-tab" id="password-settings">
                    </div>
                    <div class="tab-pane settings-tab" id="more-settings">
                        <h3>Delete my account</h3>
                        <a href="javascript:App.eraseEverything();"
                           style="font-size: 13px">Erase all my data</a>
                    </div>
                </div>
            </div>
        </form>
        <div class="modal-footer">
            <input type="submit" value="Save Settings" class="btn btn-primary" id="saveSettingsBtn">
            <button class="btn" onclick="App.closeModal()">Close</button>
        </div>
    </div>
</template>
<template id="resetPassword">
    <h3>Change Your Password</h3>
    <form id="passwordSettingsForm" action="javascript:void(0)" style="margin:0">
        <table>
            <tbody>
            <tr>
                <td style="width:120px"><label for="currentPassword">Current Password</label></td>
                <td><input name="currentPassword" placeholder="************" id="currentPassword" type="password"/></td>
                <td><span id="setPasswordError" class="help-inline error"
                          style="display:none; color:rgb(192, 86, 92)"></span></td>
            </tr>
            <tr>
                <td style="width:120px"><label for="password1">New Password</label></td>
                <td><input name="password1" id="password1" placeholder="************" type="password"/></td>
            </tr>
            <tr>
                <td style="width:120px"><label for="password2">New Password 2&nbsp;&nbsp;&nbsp;</label></td>
                <td><input name="password2" id="password2" placeholder="************" type="password"/></td>
            </tr>
            </tbody>
        </table>
    </form>
</template>
<template id="setPassword">
    <h3>Set Your Password</h3>
    <form id="passwordSettingsForm" action="javascript:void(0)" style="margin:0">
        <table>
            <tbody>
            <tr>
                <td colspan="3">
                    <div class="alert alert-info">To use the Fluxtream Capture app, you need to set a password. In addition
                        to logging in with Facebook, you will then also be able to do so with your username and password.
                    </div>
                </td>
            </tr>
            <tr>
                <td style="width:120px"><label>Your username</label></td>
                <td><span class="input uneditable-input" id="username-uneditable"></span></td>
            </tr>
            <tr>
                <td style="width:120px"><label for="password1">New Password</label></td>
                <td><input name="password1" id="password1" placeholder="************" type="password"/></td>
                <td><span id="setPasswordError" class="help-inline error"
                          style="display:none; color:rgb(192, 86, 92)"></span></td>
            </tr>
            <tr>
                <td style="width:120px"><label for="password2">New Password 2&nbsp;&nbsp;&nbsp;</label></td>
                <td><input name="password2" id="password2" placeholder="************" type="password"/></td>
            </tr>
            </tbody>
        </table>
    </form>
</template>
<template id="sharingDialog">
    <div id="sharingModal" class="modal fade hide in">
        <div class="modal-header">
            <a class="close" data-dismiss="modal">&times;</a>
            <h3>Share your Data</h3>
        </div>
        <div class="modal-body">
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span12">
                        <div id="coachesDropdown"/>
                    </div>
                </div><br/>
                <div>You can share your data with other users on a per-connector basis. They
                will be able to see it exactly as you, along with your comments. You can revoke
                access to your data at any time.</div>
                <div class="row-fluid">
                    <div class="span19" id="sharedConnectors">
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn" onclick="$('#sharingModal').modal('hide');">Close</button>
        </div>
    </div>
</template>
<template id="coachesDropdown">
    <div class="btn-group">
        <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
            {{selectedCoach}}
            <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
            {{#coaches}}
            <li><a href="javascript:App.sharingDialog.showCoach('{{username}}')">{{fullname}}</a></li>
            {{/coaches}}
            {{^coaches}}
            <li><a href="javascript:void(0)"><i>Your buddy list is empty</i></a></li>
            {{/coaches}}
            <li class="divider"></li>
            <li><a href="javascript:App.sharingDialog.findUserDialog()">Add Buddy...</a></li>
        </ul>
    </div>
</template>
<template id="sharedConnectors">
    {{#connectors}}
    <div class="row-fluid">
        {{#row}}
            <div class="span4"><input type="checkbox"
                                      onclick="App.sharingDialog.toggleSharedConnector('{{username}}','{{connectorName}}', this.checked);"
                                      value="{{connectorName}}" {{#shared}}checked=checked{{/shared}}>&nbsp;{{prettyName}}</input> </div>
        {{/row}}
    </div>
    {{/connectors}}
</template>
<template id="findUserDialog">
    <div id="findUserModal" class="modal fade hide in">
        <div class="modal-header">
            <a class="close" data-dismiss="modal">&times;</a>
            <h3>Invite Buddy</h3>
        </div>
        <div class="modal-body">
            <div class="container-fluid">
                <form id="findUserForm" action="javascript:void(0);">
                    <input type="text" placeholder="Please, Enter a Username..." id="findUserField" style="display:inline"/>
                    <button id="findUserButton" class="btn" style="margin: 0 0 9px 4px;">Search</button>
                    <img class="loading-animation"
                         src="/{{release}}/images/loading.gif"/>
                    <div id="findUserMessage" class="alert alert-info">You need to enter the fluxtream username of the person you want to invite.
                    If you don't already know it, please ask them to tell you what it is.</div>
                </form>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary disabled" onclick="if(!$(this).hasClass('disabled')) { App.sharingDialog.addCoach($('#findUserField').val());}"
                    id="shareMyDataButton">Add Buddy</button>
            <button class="btn" onclick="$('#findUserModal').modal('hide');">Close</button>
        </div>
    </div>
</template>